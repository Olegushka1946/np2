user1=User.objects.create_user(username="username1")
user2=User.objects.create_user(username="username2") 
author1=Author.objects.create(user=user1)
author2=Author.objects.create(user=user2) 
category1=Category.objects.create(name="Спорт")
category2=Category.objects.create(name="Политика")
category3=Category.objects.create(name="Финансы") 
category4=Category.objects.create(name="Культура") 
post_1=Post.objects.create(author=author1,name="NW",title="Исинбаева не поддержала спецоперацию России на Украине",text= "Комиссия Международного олимпийского комитета (МОК) по этике провела расследование в отношении Елены Исинбаевой и пришла к выводу, что олимпийская чемпионка не поддерживает специальную военную операцию России на Украине, а также не имеет отношения к силовым ведомствам и армии РФ. Это позволило Исинбаевой сохранить пост в МОК. Ранее сама спортсменка называла свое звание майора «номинальным» и заявляла, что является «человеком мира», на фоне информации СМИ об ее переезде из России в Испанию.")
post_2=Post.objects.create(author=author1,name="AR",title="Заголовок первой новости",text= "Содержание первой статьи")
post_3=Post.objects.create(author=author2,name="AR",title="Заголовок первой новости",text= "Содержание второй статьи")
post_1.categories.add(category1,category2)
post_1.save()
post_2.categories.add(category3)
post_2.save()           
post_3.categories.add(category4) 
post_3.save()
com_1=Comment.objects.create(post=post_1,user=user1,text="Замечательная новость")  
com_2=Comment.objects.create(post=post_1,user=user2,text="Невозможно читать")  
com_3=Comment.objects.create(post=post_2,user=user2,text="Классная статья")  
com_4=Comment.objects.create(post=post_3,user=user2,text="Неплохо!")
post_1.like()
post_1.dislike()
post_2.like()
post_3.like()
post_1.like()
com_1.like()
com_2.dislike()
com_3.like()
com_4.like()
author1.update_rating()
author2.update_rating()
author1.rating
author2.rating
best_user=Author.objects.order_by('-rating').values('user__username', 'rating').first()
best_user
best_post_1=Post.objects.order_by('-rating').values('time_in','author__user__username','rating','title').first()
best_post_1
best_post_preview=Post.objects.order_by('-rating').first()
best_post_preview.preview()
comments_best_post_1=Comment.objects.filter(post=best_post_preview).values('dateTime','user','rating','text')
comments_best_post_1
